meta {
  name: [201] - Create One for Delete
  type: http
  seq: 1
}

post {
  url: {{BASE_URL}}/planets
  body: json
  auth: inherit
}

body:json {
  {
      "position": {
        "x": -907.7854745373714,
        "y": -709.9920437995298,
        "z": 762.2001258640787
      },
      "name": "NouvellePlanet-{{planetNumber}}",
      "discoveredBy": "Yannick",
      "discoveryDate": "2025-09-29",
      "temperature": 200,
      "satellites": [
        "Charron"
      ]
  }
}

assert {
  res.status: eq 201
  res.body: isJson
}

script:pre-request {
  bru.setVar("planetNumber", Math.round(Math.random() * 100000));
}

script:post-response {
  bru.setEnvVar("uuidToDelete", res.body.uuid);
}

settings {
  encodeUrl: true
}
